<div class="maps row g-2 p-1">
  <div class="col-xl-3 col-lg-4 col-md-12">
    <h5 class="text-center">{{selected_info.cell_type}}</h5>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a tabindex="0" class="nav-link" [class.active]="display=='UMAP'" (click)="onItemSelected_Nav('UMAP')" (keydown.enter)="onItemSelected_Nav('UMAP')"><i class="fa fa-map"></i> UMAP</a>
      </li>
      <li class="nav-item">
        <a tabindex="0" class="nav-link" [class.active]="display=='TSNE'" (click)="onItemSelected_Nav('TSNE')" (keydown.enter)="onItemSelected_Nav('TSNE')"><i class="fa fa-map"></i> TSNE</a>
      </li>
      <!--<li class="nav-item">
      <a class="nav-link" [class.active]="display == 'Model Visualization'"
      (click)="onItemSelected_Nav('Model Visualization')">Model Visualization</a>
    </li>-->
      <li class="nav-item">
        <a tabindex="0" class="nav-link" [class.active]="display == 'Meta Info'" (click)="onItemSelected_Nav('Meta Info')" (keydown.enter)="onItemSelected_Nav('Meta Info')"><i class="fa fa-info-circle"></i> {{'maps.navbar.metainfo' | translate}}</a>
      </li>
    </ul>
  </div>
  <div class="col-xl-9 col-lg-8 col-md-12">
    <div class="row">
      <div class="text-center col-12">
        @if (display=='UMAP') {
        <img class="image img-fluid" id="myimage" [src]='this.umap' />
        }
      </div>
      <div class="text-center col-12">
        @if (display === 'TSNE' && this.tsne !== null) {
        <img class="image img-fluid" id="myimage" [src]="this.tsne" />
        }
      </div>

      @if (display === 'tsne' && this.tsne === null) {
      <div id="myimage" class="col-12">
        <p class="text-muted text-center">
          {{'maps.body.no-tsne' | translate}}
        </p>
      </div>
      }
      @if (display=='Meta Info') {
      <div class='col-md-6 col-sm-12'>
        <h4 translate="maps.body.study-info"></h4>
        <div class="row">
          <div class="col-12">
            <h5>
              <a tabindex="0" href="https://pubmed.ncbi.nlm.nih.gov/{{selected_info.pmid}}/" target="_blank">{{title}}</a>
            </h5>
          </div>
          <div class="col-12">
            <span translate="maps.body.first-author"></span>
            <h5>{{author}}</h5>
          </div>
          <div class="col-12">
            <span translate="maps.body.year"></span>
            <h5>{{year}}</h5>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-sm-12">
        <h4 translate="maps.body.cluster-info"></h4>
        <div class="row">
          <div class="col-12">
            <span translate="maps.body.celltypes"></span>
            <h5>{{ selected_info.cell_type2 }}</h5>
            @if (selected_info.cell_type2 != selected_info.cell_type3) {
            <h5>{{ selected_info.cell_type3 }}</h5>
            }
          </div>
          <div class="col-12">
            <span>-Log<sub>10</sub>({{'maps.body.adjpval' | translate}})</span>
            <h4>{{selected_info.pvalue > 500 ? selected_info.pvalue.toExponential(2) :
              selected_info.pvalue.toPrecision(4)}}</h4>
          </div>
          <div class="col-12">
            <span translate="maps.body.change"></span>
            <h4 [class]="{'text-danger': decade_change < 0, 'text-success': decade_change >= 0}">
              @if (decade_change < 0) { <span>
                <i class="fa fa-arrow-down"></i>
                </span>
                }
                @if (decade_change > 0) {
                <span>
                  <i class="fa fa-arrow-up"></i>
                </span>
                }
                {{ decade_change + '%' }}
            </h4>
          </div>
        </div>
      </div>
      }
    </div>
  </div>
</div>